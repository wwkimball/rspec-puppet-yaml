<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Top Level Namespace
  
    &mdash; Documentation by YARD 0.9.9
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo;
    
    
    <span class="title">Top Level Namespace</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Top Level Namespace
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
</div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span>
    
  
    
  
</p>







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__apply_rspec_puppet_after-instance_method" title="#__apply_rspec_puppet_after (instance method)">#<strong>__apply_rspec_puppet_after</strong>(commands)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates an RSpec <code>after {}</code> entity with one or more
global-scope method calls as its contents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__apply_rspec_puppet_before-instance_method" title="#__apply_rspec_puppet_before (instance method)">#<strong>__apply_rspec_puppet_before</strong>(commands)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates an RSpec <code>before {}</code> entity with one or more
global-scope method calls as its contents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__apply_rspec_puppet_content-instance_method" title="#__apply_rspec_puppet_content (instance method)">#<strong>__apply_rspec_puppet_content</strong>(apply_data = {}, parent_data = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates all specified RSpec entities.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__apply_rspec_puppet_context-instance_method" title="#__apply_rspec_puppet_context (instance method)">#<strong>__apply_rspec_puppet_context</strong>(apply_attrs = {}, parent_data = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates an RSpec <code>context {}</code> and its contents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__apply_rspec_puppet_contexts-instance_method" title="#__apply_rspec_puppet_contexts (instance method)">#<strong>__apply_rspec_puppet_contexts</strong>(contexts = [], parent_data = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a set of RSpec <code>context</code> entities.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__apply_rspec_puppet_describe-instance_method" title="#__apply_rspec_puppet_describe (instance method)">#<strong>__apply_rspec_puppet_describe</strong>(apply_attrs = {}, parent_data = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates an RSpec <code>describe {}</code> and its contents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__apply_rspec_puppet_describes-instance_method" title="#__apply_rspec_puppet_describes (instance method)">#<strong>__apply_rspec_puppet_describes</strong>(describes = [], parent_data = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a set of RSpec <code>describe</code> entities.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__apply_rspec_puppet_lets-instance_method" title="#__apply_rspec_puppet_lets (instance method)">#<strong>__apply_rspec_puppet_lets</strong>(lets = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets all let variables.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__apply_rspec_puppet_subject-instance_method" title="#__apply_rspec_puppet_subject (instance method)">#<strong>__apply_rspec_puppet_subject</strong>(subject)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates an RSpec <code>subject {}</code> entity.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__apply_rspec_puppet_tests-instance_method" title="#__apply_rspec_puppet_tests (instance method)">#<strong>__apply_rspec_puppet_tests</strong>(tests = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a set of RSpec <code>it {}</code> “examples”.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__apply_rspec_puppet_variant-instance_method" title="#__apply_rspec_puppet_variant (instance method)">#<strong>__apply_rspec_puppet_variant</strong>(apply_attrs = {}, parent_data = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An extension for RSpec, variants are contexts that repeat all parent tests
with specified tweaks to their inputs and expectations.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__apply_rspec_puppet_variants-instance_method" title="#__apply_rspec_puppet_variants (instance method)">#<strong>__apply_rspec_puppet_variants</strong>(variants = [], parent_data = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a set of variants of RSpec entities.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__expand_data_commands-instance_method" title="#__expand_data_commands (instance method)">#<strong>__expand_data_commands</strong>(serialized_data)  &#x21d2; Any </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Recursively expands specially-formatted commands with or without arguments
to them found within serialized data.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__get_eut_name-instance_method" title="#__get_eut_name (instance method)">#<strong>__get_eut_name</strong>(rspec_yaml_file_name, rspec_file_name)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Identify the name of the entity under test.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#__load_rspec_puppet_yaml_data-instance_method" title="#__load_rspec_puppet_yaml_data (instance method)">#<strong>__load_rspec_puppet_yaml_data</strong>(yaml_file)  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Attempts to load the YAML test data and return its data.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#guess_type_from_path-instance_method" title="#guess_type_from_path (instance method)">#<strong>guess_type_from_path</strong>(path)  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Attempts to identify the nature of an entity-under-test from the path of
the spec file that defines its unit tests.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#parse_rspec_puppet_yaml-instance_method" title="#parse_rspec_puppet_yaml (instance method)">#<strong>parse_rspec_puppet_yaml</strong>(yaml_file)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts the supplied YAML data into rspec tests.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#parse_yaml_from_spec-instance_method" title="#parse_yaml_from_spec (instance method)">#<strong>parse_yaml_from_spec</strong>(rspec_file)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Identifies a YAML data file based on the name of a *_spec.rb rspec file and
passes it to <code>parse_rspec_puppet_yaml</code> to initiate parsing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#ref-instance_method" title="#ref (instance method)">#<strong>ref</strong>(type, title)  &#x21d2; RSpec::Puppet::RawString </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Helper to return a resource/node reference, so it gets translated in params
to a raw string without quotes.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="__apply_rspec_puppet_after-instance_method">
  
    #<strong>__apply_rspec_puppet_after</strong>(commands)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Generates an RSpec <code>after {}</code> entity with one or more
global-scope method calls as its contents.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>commands</span>
      
      
        <span class='type'>(<tt>Variant[String,Array[String]]</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Command or commands to call.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


328
329
330
331
332
333
334
335
336
337
338
339
340</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 328</span>

<span class='kw'>def</span> <span class='id identifier rubyid___apply_rspec_puppet_after'>__apply_rspec_puppet_after</span><span class='lparen'>(</span><span class='id identifier rubyid_commands'>commands</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_after'>after</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_command'>command</span><span class='op'>|</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_after'>after</span> <span class='lbrace'>{</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>__apply_rspec_puppet_after requires a command String or an Array of commands.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__apply_rspec_puppet_before-instance_method">
  
    #<strong>__apply_rspec_puppet_before</strong>(commands)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Generates an RSpec <code>before {}</code> entity with one or more
global-scope method calls as its contents.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>commands</span>
      
      
        <span class='type'>(<tt>Variant[String,Array[String]]</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Command or commands to call.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


307
308
309
310
311
312
313
314
315
316
317
318
319</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 307</span>

<span class='kw'>def</span> <span class='id identifier rubyid___apply_rspec_puppet_before'>__apply_rspec_puppet_before</span><span class='lparen'>(</span><span class='id identifier rubyid_commands'>commands</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_before'>before</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_command'>command</span><span class='op'>|</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_before'>before</span> <span class='lbrace'>{</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>__apply_rspec_puppet_before requires a command String or an Array of commands.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__apply_rspec_puppet_content-instance_method">
  
    #<strong>__apply_rspec_puppet_content</strong>(apply_data = {}, parent_data = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Generates all specified RSpec entities. This is assumed to be run within a
valid RSpec container, like <code>describe</code> or <code>context</code>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>apply_data</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The entities to generate.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parent_data</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Used for recursion, this is the parent of the receiving entity.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 422</span>

<span class='kw'>def</span> <span class='id identifier rubyid___apply_rspec_puppet_content'>__apply_rspec_puppet_content</span><span class='lparen'>(</span><span class='id identifier rubyid_apply_data'>apply_data</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid___apply_rspec_puppet_subject'><span class='object_link'><a href="#__apply_rspec_puppet_subject-instance_method" title="#__apply_rspec_puppet_subject (method)">__apply_rspec_puppet_subject</a></span></span><span class='lparen'>(</span>
    <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_named_value'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_named_value-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_named_value (method)">get_named_value</a></span></span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>subject</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='id identifier rubyid_apply_data'>apply_data</span>
    <span class='rparen'>)</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid___apply_rspec_puppet_lets'><span class='object_link'><a href="#__apply_rspec_puppet_lets-instance_method" title="#__apply_rspec_puppet_lets (method)">__apply_rspec_puppet_lets</a></span></span><span class='lparen'>(</span>
    <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_named_hash'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_named_hash-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_named_hash (method)">get_named_hash</a></span></span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>let</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='id identifier rubyid_apply_data'>apply_data</span>
    <span class='rparen'>)</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid___apply_rspec_puppet_before'><span class='object_link'><a href="#__apply_rspec_puppet_before-instance_method" title="#__apply_rspec_puppet_before (method)">__apply_rspec_puppet_before</a></span></span><span class='lparen'>(</span>
    <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_named_value'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_named_value-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_named_value (method)">get_named_value</a></span></span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>before</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='id identifier rubyid_apply_data'>apply_data</span>
    <span class='rparen'>)</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid___apply_rspec_puppet_after'><span class='object_link'><a href="#__apply_rspec_puppet_after-instance_method" title="#__apply_rspec_puppet_after (method)">__apply_rspec_puppet_after</a></span></span><span class='lparen'>(</span>
    <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_named_value'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_named_value-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_named_value (method)">get_named_value</a></span></span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>after</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='id identifier rubyid_apply_data'>apply_data</span>
    <span class='rparen'>)</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid___apply_rspec_puppet_tests'><span class='object_link'><a href="#__apply_rspec_puppet_tests-instance_method" title="#__apply_rspec_puppet_tests (method)">__apply_rspec_puppet_tests</a></span></span><span class='lparen'>(</span>
    <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_named_hash'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_named_hash-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_named_hash (method)">get_named_hash</a></span></span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>tests</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='id identifier rubyid_apply_data'>apply_data</span>
    <span class='rparen'>)</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid___apply_rspec_puppet_describes'><span class='object_link'><a href="#__apply_rspec_puppet_describes-instance_method" title="#__apply_rspec_puppet_describes (method)">__apply_rspec_puppet_describes</a></span></span><span class='lparen'>(</span>
    <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_array_of_named_hashes'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_array_of_named_hashes-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_array_of_named_hashes (method)">get_array_of_named_hashes</a></span></span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>describe</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='id identifier rubyid_apply_data'>apply_data</span>
    <span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_apply_data'>apply_data</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid___apply_rspec_puppet_contexts'><span class='object_link'><a href="#__apply_rspec_puppet_contexts-instance_method" title="#__apply_rspec_puppet_contexts (method)">__apply_rspec_puppet_contexts</a></span></span><span class='lparen'>(</span>
    <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_array_of_named_hashes'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_array_of_named_hashes-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_array_of_named_hashes (method)">get_array_of_named_hashes</a></span></span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>context</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='id identifier rubyid_apply_data'>apply_data</span>
    <span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_apply_data'>apply_data</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid___apply_rspec_puppet_variants'><span class='object_link'><a href="#__apply_rspec_puppet_variants-instance_method" title="#__apply_rspec_puppet_variants (method)">__apply_rspec_puppet_variants</a></span></span><span class='lparen'>(</span>
    <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_array_of_named_hashes'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_array_of_named_hashes-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_array_of_named_hashes (method)">get_array_of_named_hashes</a></span></span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>variants</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='id identifier rubyid_apply_data'>apply_data</span>
    <span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_apply_data'>apply_data</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__apply_rspec_puppet_context-instance_method">
  
    #<strong>__apply_rspec_puppet_context</strong>(apply_attrs = {}, parent_data = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Generates an RSpec <code>context {}</code> and its contents.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>apply_attrs</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Definition of the entity and its contents.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parent_data</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Used for recursion, this is the parent for this entity.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90
91
92
93
94</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 86</span>

<span class='kw'>def</span> <span class='id identifier rubyid___apply_rspec_puppet_context'>__apply_rspec_puppet_context</span><span class='lparen'>(</span><span class='id identifier rubyid_apply_attrs'>apply_attrs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_context_name'>context_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_named_value'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_named_value-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_named_value (method)">get_named_value</a></span></span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='id identifier rubyid_apply_attrs'>apply_attrs</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid_context'>context</span><span class='lparen'>(</span><span class='id identifier rubyid_context_name'>context_name</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid___apply_rspec_puppet_content'><span class='object_link'><a href="#__apply_rspec_puppet_content-instance_method" title="#__apply_rspec_puppet_content (method)">__apply_rspec_puppet_content</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_apply_attrs'>apply_attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__apply_rspec_puppet_contexts-instance_method">
  
    #<strong>__apply_rspec_puppet_contexts</strong>(contexts = [], parent_data = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Generates a set of RSpec <code>context</code> entities.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>contexts</span>
      
      
        <span class='type'>(<tt>Array[Hash]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Set of entities to generate. Each element must be a Hash that has a :name
or &#39;name&#39; attribute.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parent_data</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Used for recursion, this is the parent for this entity.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 184</span>

<span class='kw'>def</span> <span class='id identifier rubyid___apply_rspec_puppet_contexts'>__apply_rspec_puppet_contexts</span><span class='lparen'>(</span><span class='id identifier rubyid_contexts'>contexts</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_bad_input'>bad_input</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='comment'># Input must be an Array
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_contexts'>contexts</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_bad_input'>bad_input</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='comment'># Every element of the input must be a Hash, each with a :name attribute
</span>  <span class='id identifier rubyid_contexts'>contexts</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_container'>container</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_container'>container</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_bad_input'>bad_input</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_container'>container</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_container'>container</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_bad_input'>bad_input</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_bad_input'>bad_input</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>__apply_rspec_puppet_contexts requires an Array of Hashes, each with a :name attribute.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_contexts'>contexts</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_container'>container</span><span class='op'>|</span>
    <span class='id identifier rubyid___apply_rspec_puppet_context'><span class='object_link'><a href="#__apply_rspec_puppet_context-instance_method" title="#__apply_rspec_puppet_context (method)">__apply_rspec_puppet_context</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__apply_rspec_puppet_describe-instance_method">
  
    #<strong>__apply_rspec_puppet_describe</strong>(apply_attrs = {}, parent_data = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Generates an RSpec <code>describe {}</code> and its contents.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>apply_attrs</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Definition of the entity and its contents.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parent_data</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Used for recursion, this is the parent for this entity.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 58</span>

<span class='kw'>def</span> <span class='id identifier rubyid___apply_rspec_puppet_describe'>__apply_rspec_puppet_describe</span><span class='lparen'>(</span><span class='id identifier rubyid_apply_attrs'>apply_attrs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_desc_name'>desc_name</span>  <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_named_value'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_named_value-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_named_value (method)">get_named_value</a></span></span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='id identifier rubyid_apply_attrs'>apply_attrs</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid_desc_type'>desc_type</span>  <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_named_value'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_named_value-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_named_value (method)">get_named_value</a></span></span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='id identifier rubyid_apply_attrs'>apply_attrs</span>
  <span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_desc_type'>desc_type</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_describe'>describe</span><span class='lparen'>(</span><span class='id identifier rubyid_desc_name'>desc_name</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id identifier rubyid___apply_rspec_puppet_content'><span class='object_link'><a href="#__apply_rspec_puppet_content-instance_method" title="#__apply_rspec_puppet_content (method)">__apply_rspec_puppet_content</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_apply_attrs'>apply_attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_describe'>describe</span><span class='lparen'>(</span><span class='id identifier rubyid_desc_name'>desc_name</span><span class='comma'>,</span> <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_desc_type'>desc_type</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id identifier rubyid___apply_rspec_puppet_content'><span class='object_link'><a href="#__apply_rspec_puppet_content-instance_method" title="#__apply_rspec_puppet_content (method)">__apply_rspec_puppet_content</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_apply_attrs'>apply_attrs</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__apply_rspec_puppet_describes-instance_method">
  
    #<strong>__apply_rspec_puppet_describes</strong>(describes = [], parent_data = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Generates a set of RSpec <code>describe</code> entities.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>describes</span>
      
      
        <span class='type'>(<tt>Array[Hash]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Set of entities to generate. Each element must be a Hash that has a :name
or &#39;name&#39; attribute.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parent_data</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Used for recursion, this is the parent for this entity.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 149</span>

<span class='kw'>def</span> <span class='id identifier rubyid___apply_rspec_puppet_describes'>__apply_rspec_puppet_describes</span><span class='lparen'>(</span><span class='id identifier rubyid_describes'>describes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_bad_input'>bad_input</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='comment'># Input must be an Array
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_describes'>describes</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_bad_input'>bad_input</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='comment'># Every element of the input must be a Hash, each with a :name attribute
</span>  <span class='id identifier rubyid_describes'>describes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_container'>container</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_container'>container</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_bad_input'>bad_input</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_container'>container</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_container'>container</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_bad_input'>bad_input</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_bad_input'>bad_input</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>__apply_rspec_puppet_describes requires an Array of Hashes, each with a :name attribute.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_describes'>describes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_container'>container</span><span class='op'>|</span>
    <span class='id identifier rubyid___apply_rspec_puppet_describe'><span class='object_link'><a href="#__apply_rspec_puppet_describe-instance_method" title="#__apply_rspec_puppet_describe (method)">__apply_rspec_puppet_describe</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_container'>container</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__apply_rspec_puppet_lets-instance_method">
  
    #<strong>__apply_rspec_puppet_lets</strong>(lets = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Sets all let variables.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>As YAML</p>
</div></p>
      
      <pre class="example code"><code>---
let:
  facts:
    kernel: Linux
    os:
      family: RedHat
      name: CentOS
      release:
        major: 7
        minor: 1
  params:
    require: &#39;%{eval:ref(&quot;Package&quot;, &quot;my-package&quot;)}&#39;
    nodes:
      &#39;%{eval:ref(&quot;Node&quot;, &quot;dbnode&quot;)}&#39;: &#39;%{eval:ref(&quot;Myapp::Mycomponent&quot;, &quot;myapp&quot;)}&#39;</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>lets</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The data to scan for let variables</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


376
377
378</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 376</span>

<span class='kw'>def</span> <span class='id identifier rubyid___apply_rspec_puppet_lets'>__apply_rspec_puppet_lets</span><span class='lparen'>(</span><span class='id identifier rubyid_lets'>lets</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid___expand_data_commands'><span class='object_link'><a href="#__expand_data_commands-instance_method" title="#__expand_data_commands (method)">__expand_data_commands</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_lets'>lets</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_let'>let</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_v'>v</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__apply_rspec_puppet_subject-instance_method">
  
    #<strong>__apply_rspec_puppet_subject</strong>(subject)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Generates an RSpec <code>subject {}</code> entity.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>subject</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The subject descriptor.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


348
349
350
351
352</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 348</span>

<span class='kw'>def</span> <span class='id identifier rubyid___apply_rspec_puppet_subject'>__apply_rspec_puppet_subject</span><span class='lparen'>(</span><span class='id identifier rubyid_subject'>subject</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_subject'>subject</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_subject'>subject</span> <span class='lbrace'>{</span> <span class='id identifier rubyid___expand_data_commands'><span class='object_link'><a href="#__expand_data_commands-instance_method" title="#__expand_data_commands (method)">__expand_data_commands</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_subject'>subject</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__apply_rspec_puppet_tests-instance_method">
  
    #<strong>__apply_rspec_puppet_tests</strong>(tests = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Generates a set of RSpec <code>it {}</code> “examples”.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>tests</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Set of examples to build.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 249</span>

<span class='kw'>def</span> <span class='id identifier rubyid___apply_rspec_puppet_tests'>__apply_rspec_puppet_tests</span><span class='lparen'>(</span><span class='id identifier rubyid_tests'>tests</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_tests'>tests</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='id identifier rubyid_props'>props</span><span class='op'>|</span>
    <span class='comment'># props must be split into args and tests based on method
</span>    <span class='kw'>case</span> <span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(!)?((contain|create)_.+)$</span><span class='regexp_end'>/</span></span>
      <span class='comment'># There can be only one beyond this point, so recurse as necessary
</span>      <span class='kw'>if</span> <span class='int'>1</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_props'>props</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>
        <span class='id identifier rubyid_props'>props</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid___apply_rspec_puppet_tests'>__apply_rspec_puppet_tests</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='id identifier rubyid_method'>method</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='id identifier rubyid_k'>k</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='rbrace'>}</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='rbrace'>}</span>
        <span class='kw'>return</span>  <span class='comment'># Avoid processing the first entry twice
</span>      <span class='kw'>end</span>

      <span class='id identifier rubyid_positive_test'>positive_test</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_apply_method'>apply_method</span>  <span class='op'>=</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_args'>args</span>          <span class='op'>=</span> <span class='lbracket'>[</span> <span class='id identifier rubyid_props'>props</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='rbracket'>]</span>
      <span class='id identifier rubyid_calls'>calls</span>         <span class='op'>=</span> <span class='id identifier rubyid_props'>props</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(!)?(have_.+_count)$</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_positive_test'>positive_test</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_apply_method'>apply_method</span>  <span class='op'>=</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_args'>args</span>          <span class='op'>=</span> <span class='id identifier rubyid_props'>props</span>
      <span class='id identifier rubyid_calls'>calls</span>         <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(!)?(compile)$</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_positive_test'>positive_test</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_apply_method'>apply_method</span>  <span class='op'>=</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_args'>args</span>          <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_calls'>calls</span>         <span class='op'>=</span> <span class='id identifier rubyid_props'>props</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(!)?(run)$</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_positive_test'>positive_test</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_apply_method'>apply_method</span>  <span class='op'>=</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_args'>args</span>          <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_calls'>calls</span>         <span class='op'>=</span> <span class='id identifier rubyid_props'>props</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(!)?(be_valid_type)$</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_positive_test'>positive_test</span> <span class='op'>=</span> <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_apply_method'>apply_method</span>  <span class='op'>=</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_args'>args</span>          <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_calls'>calls</span>         <span class='op'>=</span> <span class='id identifier rubyid_props'>props</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_matcher'>matcher</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/MatcherHelpers.html" title="RSpec::Puppet::MatcherHelpers (class)">MatcherHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_matcher_for'><span class='object_link'><a href="RSpec/Puppet/MatcherHelpers.html#get_matcher_for-class_method" title="RSpec::Puppet::MatcherHelpers.get_matcher_for (method)">get_matcher_for</a></span></span><span class='lparen'>(</span>
      <span class='id identifier rubyid_apply_method'>apply_method</span><span class='comma'>,</span>
      <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span>
      <span class='id identifier rubyid_calls'>calls</span>
    <span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_positive_test'>positive_test</span>
      <span class='id identifier rubyid_it'>it</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_is_expected'>is_expected</span><span class='period'>.</span><span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_matcher'>matcher</span> <span class='rbrace'>}</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_it'>it</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_is_expected'>is_expected</span><span class='period'>.</span><span class='id identifier rubyid_not_to'>not_to</span> <span class='id identifier rubyid_matcher'>matcher</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__apply_rspec_puppet_variant-instance_method">
  
    #<strong>__apply_rspec_puppet_variant</strong>(apply_attrs = {}, parent_data = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>An extension for RSpec, variants are contexts that repeat all parent tests
with specified tweaks to their inputs and expectations.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>apply_attrs</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Definition of the entity and its contents.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parent_data</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Used for recursion, this is the parent for this entity.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 105</span>

<span class='kw'>def</span> <span class='id identifier rubyid___apply_rspec_puppet_variant'>__apply_rspec_puppet_variant</span><span class='lparen'>(</span><span class='id identifier rubyid_apply_attrs'>apply_attrs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_variant_name'>variant_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_named_value'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_named_value-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_named_value (method)">get_named_value</a></span></span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='id identifier rubyid_apply_attrs'>apply_attrs</span>
  <span class='rparen'>)</span>

  <span class='comment'># The deep_merge gem&#39;s funtionality unfortunately changes the destination
</span>  <span class='comment'># Hash, even when you attempt to store the result to another variable and use
</span>  <span class='comment'># the non-bang method call.  This seems like a pretty serious bug, to me,
</span>  <span class='comment'># despite the gem&#39;s documentation implying that this will happen.  IMHO, the
</span>  <span class='comment'># gem&#39;s author made a very poor decision in how the bang and non-bang behavior
</span>  <span class='comment'># would differ (merely a difference in the default values of its options
</span>  <span class='comment'># rather than the Ruby-norm of affecting or not-affecting the calling Object).
</span>  <span class='comment'># To workaround this issue and protect the original destination against
</span>  <span class='comment'># unwanted change, a deep copy of the destination Hash must be taken and used.
</span>  <span class='id identifier rubyid_parent_dup'>parent_dup</span>   <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_data'>parent_data</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_context_data'>context_data</span> <span class='op'>=</span> <span class='id identifier rubyid_parent_dup'>parent_dup</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='op'>!</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>variants</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>before</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>after</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>subject</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_context_data'>context_data</span><span class='period'>.</span><span class='id identifier rubyid_deep_merge!'>deep_merge!</span><span class='lparen'>(</span>
    <span class='id identifier rubyid_apply_attrs'>apply_attrs</span><span class='comma'>,</span>
    <span class='lbrace'>{</span> <span class='symbol'>:extend_existing_arrays</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='symbol'>:merge_hash_arrays</span>      <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='symbol'>:merge_nil_values</span>       <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='symbol'>:overwrite_arrays</span>       <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='symbol'>:preserve_unmergeables</span>  <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='symbol'>:sort_merged_arrays</span>     <span class='op'>=&gt;</span> <span class='kw'>false</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span>

  <span class='id identifier rubyid_context'>context</span><span class='lparen'>(</span><span class='id identifier rubyid_variant_name'>variant_name</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid___apply_rspec_puppet_content'><span class='object_link'><a href="#__apply_rspec_puppet_content-instance_method" title="#__apply_rspec_puppet_content (method)">__apply_rspec_puppet_content</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_context_data'>context_data</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__apply_rspec_puppet_variants-instance_method">
  
    #<strong>__apply_rspec_puppet_variants</strong>(variants = [], parent_data = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Generates a set of variants of RSpec entities.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>variants</span>
      
      
        <span class='type'>(<tt>Array[Hash]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Set of entities to generate. Each element must be a Hash that has a :name
or &#39;name&#39; attribute.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parent_data</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Used for recursion, this is the parent for this entity.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 219</span>

<span class='kw'>def</span> <span class='id identifier rubyid___apply_rspec_puppet_variants'>__apply_rspec_puppet_variants</span><span class='lparen'>(</span><span class='id identifier rubyid_variants'>variants</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_bad_input'>bad_input</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='comment'># Input must be an Array
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_variants'>variants</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_bad_input'>bad_input</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='comment'># Every element of the input must be a Hash, each with a :name attribute
</span>  <span class='id identifier rubyid_variants'>variants</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_variant'>variant</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_variant'>variant</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_bad_input'>bad_input</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_variant'>variant</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_variant'>variant</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_bad_input'>bad_input</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_bad_input'>bad_input</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>__apply_rspec_puppet_variants requires an Array of Hashes, each with a :name attribute.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_variants'>variants</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_variant'>variant</span><span class='op'>|</span> <span class='id identifier rubyid___apply_rspec_puppet_variant'><span class='object_link'><a href="#__apply_rspec_puppet_variant-instance_method" title="#__apply_rspec_puppet_variant (method)">__apply_rspec_puppet_variant</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_variant'>variant</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_data'>parent_data</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__expand_data_commands-instance_method">
  
    #<strong>__expand_data_commands</strong>(serialized_data)  &#x21d2; <tt>Any</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Recursively expands specially-formatted commands with or without arguments
to them found within serialized data.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>serialized_data</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The data to check for expansion markers and expand them, when present.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Expanded or original (when there are no expansion markers) data.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 386</span>

<span class='kw'>def</span> <span class='id identifier rubyid___expand_data_commands'>__expand_data_commands</span><span class='lparen'>(</span><span class='id identifier rubyid_serialized_data'>serialized_data</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_serialized_data'>serialized_data</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_serialized_data'>serialized_data</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_expanded_data'>expanded_data</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_serialized_data'>serialized_data</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_elem'>elem</span><span class='op'>|</span> <span class='id identifier rubyid_expanded_data'>expanded_data</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid___expand_data_commands'>__expand_data_commands</span><span class='lparen'>(</span><span class='id identifier rubyid_elem'>elem</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_serialized_data'>serialized_data</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_expanded_data'>expanded_data</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_serialized_data'>serialized_data</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
      <span class='id identifier rubyid_expanded_data'>expanded_data</span><span class='lbracket'>[</span><span class='id identifier rubyid___expand_data_commands'>__expand_data_commands</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid___expand_data_commands'>__expand_data_commands</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_test_data'>test_data</span> <span class='op'>=</span> <span class='id identifier rubyid_serialized_data'>serialized_data</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_test_data'>test_data</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^%{eval:(.+)}$</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_test_eval'>test_eval</span> <span class='op'>=</span> <span class='backref'>$1</span>
      <span class='kw'>begin</span>
        <span class='id identifier rubyid_test_value'>test_value</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span> <span class='id identifier rubyid_test_eval'>test_eval</span>
      <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
        <span class='id identifier rubyid_test_value'>test_value</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ex'>ex</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>:  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_test_eval'>test_eval</span><span class='embexpr_end'>}</span><span class='tstring_content'>.  </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ex'>ex</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_test_value'>test_value</span> <span class='op'>=</span> <span class='id identifier rubyid_serialized_data'>serialized_data</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_expanded_data'>expanded_data</span> <span class='op'>=</span> <span class='id identifier rubyid_test_value'>test_value</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_expanded_data'>expanded_data</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__get_eut_name-instance_method">
  
    #<strong>__get_eut_name</strong>(rspec_yaml_file_name, rspec_file_name)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Identify the name of the entity under test.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>rspec_yaml_file_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>YAML file name that describes tests.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>rspec_file_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Name of the *_spec.rb file that is requesting parsed results from
<code>rspec_yaml_file_name</code>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Name of the entity under test.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39
40
41
42
43
44
45
46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 37</span>

<span class='kw'>def</span> <span class='id identifier rubyid___get_eut_name'>__get_eut_name</span><span class='lparen'>(</span><span class='id identifier rubyid_rspec_yaml_file_name'>rspec_yaml_file_name</span><span class='comma'>,</span> <span class='id identifier rubyid_rspec_file_name'>rspec_file_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_base_yaml'>base_yaml</span>   <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_rspec_yaml_file_name'>rspec_yaml_file_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_base_caller'>base_caller</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_rspec_file_name'>rspec_file_name</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_base_yaml'>base_yaml</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(.+)(_spec)?\.ya?ml$</span><span class='regexp_end'>/</span></span>
    <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_base_caller'>base_caller</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(.+)_spec\.rb$</span><span class='regexp_end'>/</span></span>
    <span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>unknown</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__load_rspec_puppet_yaml_data-instance_method">
  
    #<strong>__load_rspec_puppet_yaml_data</strong>(yaml_file)  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The __ prefix denotes this as a “private” function. Do not call this
directly.</p>
</div>
  </div>


<p>Attempts to load the YAML test data and return its data.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>yaml_file</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Path to the YAML file to load.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The data from the YAML file.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>IOError when the source file is not valid YAML or does not contain a Hash.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 486</span>

<span class='kw'>def</span> <span class='id identifier rubyid___load_rspec_puppet_yaml_data'>__load_rspec_puppet_yaml_data</span><span class='lparen'>(</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='rparen'>)</span>
  <span class='comment'># The test data file must exist
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exists?'>exists?</span><span class='lparen'>(</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not exit.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_yaml_data'>yaml_data</span> <span class='op'>=</span> <span class='const'>YAML</span><span class='period'>.</span><span class='id identifier rubyid_load_file'>load_file</span><span class='lparen'>(</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Psych</span><span class='op'>::</span><span class='const'>SyntaxError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> contains a YAML syntax error.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>rescue</span> <span class='const'>ArgumentError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> contains missing or undefined entities.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>rescue</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> could not be read or is not YAML.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># Must be a populated Hash
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_yaml_data'>yaml_data</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_yaml_data'>yaml_data</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_yaml_data'>yaml_data</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> is not a valid YAML Hash data structure.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_yaml_data'>yaml_data</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_yaml_data'>yaml_data</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='embexpr_end'>}</span><span class='tstring_content'> contains no legible tests.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_yaml_data'>yaml_data</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="guess_type_from_path-instance_method">
  
    #<strong>guess_type_from_path</strong>(path)  &#x21d2; <tt>Symbol</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Attempts to identify the nature of an entity-under-test from the path of
the spec file that defines its unit tests.</p>

<p>License: MIT</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Fully-qualified path to the *_spec.rb file that defines RSpec (Puppet)
tests.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Presumed nature of the entity-under-test.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://github.com/rodjek/rspec-puppet/blob/434653f8a143e047a082019975b66fb2323051eb/lib/rspec-puppet/support.rb#L25-L46" target="_parent" title="https://github.com/rodjek/rspec-puppet/blob/434653f8a143e047a082019975b66fb2323051eb/lib/rspec-puppet/support.rb#L25-L46">https://github.com/rodjek/rspec-puppet/blob/434653f8a143e047a082019975b66fb2323051eb/lib/rspec-puppet/support.rb#L25-L46</a></li>
    
  </ul>
<p class="tag_title">Author:</p>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>Tim Sharpe</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet/support_copy.rb', line 30</span>

<span class='kw'>def</span> <span class='id identifier rubyid_guess_type_from_path'>guess_type_from_path</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_path'>path</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>spec\/defines</span><span class='regexp_end'>/</span></span>
    <span class='symbol'>:define</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>spec\/classes</span><span class='regexp_end'>/</span></span>
    <span class='symbol'>:class</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>spec\/functions</span><span class='regexp_end'>/</span></span>
    <span class='symbol'>:function</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>spec\/hosts</span><span class='regexp_end'>/</span></span>
    <span class='symbol'>:host</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>spec\/types</span><span class='regexp_end'>/</span></span>
    <span class='symbol'>:type</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>spec\/type_aliases</span><span class='regexp_end'>/</span></span>
    <span class='symbol'>:type_alias</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>spec\/provider</span><span class='regexp_end'>/</span></span>
    <span class='symbol'>:provider</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>spec\/applications</span><span class='regexp_end'>/</span></span>
    <span class='symbol'>:application</span>
  <span class='kw'>else</span>
    <span class='symbol'>:unknown</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_rspec_puppet_yaml-instance_method">
  
    #<strong>parse_rspec_puppet_yaml</strong>(yaml_file)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts the supplied YAML data into rspec tests. When this is called from
a *_spec.rb file from RSpec, testing begins immediately upon parsing.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>yaml_file</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Path to a YAML file containing rspec-puppet tests</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/parser.rb', line 5</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_rspec_puppet_yaml'>parse_rspec_puppet_yaml</span><span class='lparen'>(</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_test_data'>test_data</span> <span class='op'>=</span> <span class='id identifier rubyid___load_rspec_puppet_yaml_data'><span class='object_link'><a href="#__load_rspec_puppet_yaml_data-instance_method" title="#__load_rspec_puppet_yaml_data (method)">__load_rspec_puppet_yaml_data</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='rparen'>)</span>

  <span class='comment'># The top-most entity must be a &#39;describe&#39;, which must have both name (which
</span>  <span class='comment'># must be identical to the entity-under-test) and type-of-entity (in case the
</span>  <span class='comment'># user failed to follow the prescribed directory structure for unit testing
</span>  <span class='comment'># Puppet modules).  RSpec docs often show more than one top-level describe,
</span>  <span class='comment'># so this function supports the same.
</span>  <span class='id identifier rubyid_rspec_file'>rspec_file</span>       <span class='op'>=</span> <span class='id identifier rubyid_caller_locations'>caller_locations</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.+_spec.rb$</span><span class='regexp_end'>/</span></span><span class='rbrace'>}</span>
    <span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_default_describe'>default_describe</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid___get_eut_name'><span class='object_link'><a href="#__get_eut_name-instance_method" title="#__get_eut_name (method)">__get_eut_name</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='comma'>,</span> <span class='id identifier rubyid_rspec_file'>rspec_file</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>type</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_guess_type_from_path'><span class='object_link'><a href="#guess_type_from_path-instance_method" title="#guess_type_from_path (method)">guess_type_from_path</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rspec_file'>rspec_file</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_describes'>describes</span>        <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml.html" title="RSpec::Puppet::Yaml (module)">Yaml</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html" title="RSpec::Puppet::Yaml::DataHelpers (module)">DataHelpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_array_of_named_hashes'><span class='object_link'><a href="RSpec/Puppet/Yaml/DataHelpers.html#get_array_of_named_hashes-class_method" title="RSpec::Puppet::Yaml::DataHelpers.get_array_of_named_hashes (method)">get_array_of_named_hashes</a></span></span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>describe</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='id identifier rubyid_test_data'>test_data</span><span class='comma'>,</span>
  <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_desc'>desc</span><span class='op'>|</span> <span class='id identifier rubyid_describes'>describes</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_default_describe'>default_describe</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_desc'>desc</span><span class='rparen'>)</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid___apply_rspec_puppet_describes'><span class='object_link'><a href="#__apply_rspec_puppet_describes-instance_method" title="#__apply_rspec_puppet_describes (method)">__apply_rspec_puppet_describes</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_describes'>describes</span><span class='comma'>,</span> <span class='id identifier rubyid_test_data'>test_data</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_yaml_from_spec-instance_method">
  
    #<strong>parse_yaml_from_spec</strong>(rspec_file)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Identifies a YAML data file based on the name of a *_spec.rb rspec file and
passes it to <code>parse_rspec_puppet_yaml</code> to initiate parsing.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Typical use</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>spec_helper</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_parse_yaml_from_spec'>parse_yaml_from_spec</span><span class='lparen'>(</span><span class='kw'>__FILE__</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>rspec_file</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Path to and name of the RSpec *_spec.rb file. It is easiest to simply pass
<code>__FILE__</code> to this function from that file.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet-yaml/extenders.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_parse_yaml_from_spec'>parse_yaml_from_spec</span><span class='lparen'>(</span><span class='id identifier rubyid_rspec_file'>rspec_file</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_rspec_file'>rspec_file</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(.+)_spec\.rb$</span><span class='regexp_end'>/</span></span>
    <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_content'>_spec.yaml</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_content'>_spec.yml</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_content'>.yaml</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='embexpr_end'>}</span><span class='tstring_content'>.yml</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_parse_rspec_puppet_yaml'><span class='object_link'><a href="#parse_rspec_puppet_yaml-instance_method" title="#parse_rspec_puppet_yaml (method)">parse_rspec_puppet_yaml</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_yaml_file'>yaml_file</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_rspec_file'>rspec_file</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(.+\.ya?ml)$</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_parse_rspec_puppet_yaml'><span class='object_link'><a href="#parse_rspec_puppet_yaml-instance_method" title="#parse_rspec_puppet_yaml (method)">parse_rspec_puppet_yaml</a></span></span><span class='lparen'>(</span><span class='backref'>$1</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_parse_rspec_puppet_yaml'><span class='object_link'><a href="#parse_rspec_puppet_yaml-instance_method" title="#parse_rspec_puppet_yaml (method)">parse_rspec_puppet_yaml</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rspec_file'>rspec_file</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ref-instance_method">
  
    #<strong>ref</strong>(type, title)  &#x21d2; <tt>RSpec::Puppet::RawString</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Helper to return a resource/node reference, so it gets translated in params
to a raw string without quotes.</p>

<p>License: MIT</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>reference type</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>title</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>reference title</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>RSpec::Puppet::RawString</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>return a new RawString with the type/title populated correctly</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://github.com/rodjek/rspec-puppet/blob/434653f8a143e047a082019975b66fb2323051eb/lib/rspec-puppet/support.rb#L404-L412" target="_parent" title="https://github.com/rodjek/rspec-puppet/blob/434653f8a143e047a082019975b66fb2323051eb/lib/rspec-puppet/support.rb#L404-L412">https://github.com/rodjek/rspec-puppet/blob/434653f8a143e047a082019975b66fb2323051eb/lib/rspec-puppet/support.rb#L404-L412</a></li>
    
  </ul>
<p class="tag_title">Author:</p>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>Tim Sharpe</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rspec-puppet/support_copy.rb', line 64</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ref'>ref</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_title'>title</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='const'><span class='object_link'><a href="RSpec.html" title="RSpec (module)">RSpec</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="RSpec/Puppet.html" title="RSpec::Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'>RawString</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>[&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_title'>title</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Sep  6 04:17:57 2017 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.9 (ruby-2.4.1).
</div>

    </div>
  </body>
</html>